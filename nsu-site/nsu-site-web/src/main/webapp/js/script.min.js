(function(a,e,b){function d(a){var f={},c=/^jQuery\d+$/;b.each(a.attributes,function(a,l){l.specified&&!c.test(l.name)&&(f[l.name]=l.value)});return f}function g(a,f){var c=b(this);if(this.value==c.attr("placeholder")&&c.hasClass("placeholder"))if(c.data("placeholder-password")){c=c.hide().next().show().attr("id",c.removeAttr("id").data("placeholder-id"));if(!0===a)return c[0].value=f;c.focus()}else this.value="",c.removeClass("placeholder"),this==l()&&this.select()}function c(){var a,f=b(this),c=
this.id;if(""==this.value){if("password"==this.type){if(!f.data("placeholder-textinput")){try{a=f.clone().attr({type:"text"})}catch(l){a=b("\x3cinput\x3e").attr(b.extend(d(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":f,"placeholder-id":c}).bind("focus.placeholder",g);f.data({"placeholder-textinput":a,"placeholder-id":c}).before(a)}f=f.removeAttr("id").hide().prev().attr("id",c).show()}f.addClass("placeholder");f[0].value=f.attr("placeholder")}else f.removeClass("placeholder")}
function l(){try{return e.activeElement}catch(a){}}var f="[object OperaMini]"==Object.prototype.toString.call(a.operamini),h="placeholder"in e.createElement("input")&&!f,f="placeholder"in e.createElement("textarea")&&!f,k=b.fn,m=b.valHooks,n=b.propHooks;h&&f?(k=k.placeholder=function(){return this},k.input=k.textarea=!0):(k=k.placeholder=function(){this.filter((h?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":g,"blur.placeholder":c}).data("placeholder-enabled",
!0).trigger("blur.placeholder");return this},k.input=h,k.textarea=f,k={get:function(a){var f=b(a),c=f.data("placeholder-password");return c?c[0].value:f.data("placeholder-enabled")&&f.hasClass("placeholder")?"":a.value},set:function(a,f){var d=b(a),h=d.data("placeholder-password");if(h)return h[0].value=f;if(!d.data("placeholder-enabled"))return a.value=f;""==f?(a.value=f,a!=l()&&c.call(a)):d.hasClass("placeholder")?g.call(a,!0,f)||(a.value=f):a.value=f;return d}},h||(m.input=k,n.value=k),f||(m.textarea=
k,n.value=k),b(function(){b(e).delegate("form","submit.placeholder",function(){var a=b(".placeholder",this).each(g);setTimeout(function(){a.each(c)},10)})}),b(a).bind("beforeunload.placeholder",function(){b(".placeholder").each(function(){this.value=""})}))})(this,document,jQuery);
(function(){function a(){}function e(a,f){for(var c=a.length;c--;)if(a[c].listener===f)return c;return-1}function b(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,g=this,c=g.EventEmitter;d.getListeners=function(a){var f=this._getEvents(),c,b;if("object"===typeof a)for(b in c={},f)f.hasOwnProperty(b)&&a.test(b)&&(c[b]=f[b]);else c=f[a]||(f[a]=[]);return c};d.flattenListeners=function(a){var f=[],c;for(c=0;c<a.length;c+=1)f.push(a[c].listener);return f};d.getListenersAsObject=
function(a){var f=this.getListeners(a),c;f instanceof Array&&(c={},c[a]=f);return c||f};d.addListener=function(a,c){var b=this.getListenersAsObject(a),d="object"===typeof c,g;for(g in b)b.hasOwnProperty(g)&&-1===e(b[g],c)&&b[g].push(d?c:{listener:c,once:!1});return this};d.on=b("addListener");d.addOnceListener=function(a,c){return this.addListener(a,{listener:c,once:!0})};d.once=b("addOnceListener");d.defineEvent=function(a){this.getListeners(a);return this};d.defineEvents=function(a){for(var c=0;c<
a.length;c+=1)this.defineEvent(a[c]);return this};d.removeListener=function(a,c){var b=this.getListenersAsObject(a),d,g;for(g in b)b.hasOwnProperty(g)&&(d=e(b[g],c),-1!==d&&b[g].splice(d,1));return this};d.off=b("removeListener");d.addListeners=function(a,c){return this.manipulateListeners(!1,a,c)};d.removeListeners=function(a,c){return this.manipulateListeners(!0,a,c)};d.manipulateListeners=function(a,c,b){var d,e,g=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;
if("object"!==typeof c||c instanceof RegExp)for(d=b.length;d--;)g.call(this,c,b[d]);else for(d in c)c.hasOwnProperty(d)&&(e=c[d])&&("function"===typeof e?g.call(this,d,e):a.call(this,d,e));return this};d.removeEvent=function(a){var c=typeof a,b=this._getEvents(),d;if("string"===c)delete b[a];else if("object"===c)for(d in b)b.hasOwnProperty(d)&&a.test(d)&&delete b[d];else delete this._events;return this};d.removeAllListeners=b("removeEvent");d.emitEvent=function(a,c){var b=this.getListenersAsObject(a),
d,e,g,p;for(g in b)if(b.hasOwnProperty(g))for(e=b[g].length;e--;)d=b[g][e],!0===d.once&&this.removeListener(a,d.listener),p=d.listener.apply(this,c||[]),p===this._getOnceReturnValue()&&this.removeListener(a,d.listener);return this};d.trigger=b("emitEvent");d.emit=function(a){var c=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,c)};d.setOnceReturnValue=function(a){this._onceReturnValue=a;return this};d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:
!0};d._getEvents=function(){return this._events||(this._events={})};a.noConflict=function(){g.EventEmitter=c;return a};"function"===typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"===typeof module&&module.exports?module.exports=a:this.EventEmitter=a}).call(this);
(function(a){function e(c){var b=a.event;b.target=b.target||b.srcElement||c;return b}var b=document.documentElement,d=function(){};b.addEventListener?d=function(a,b,d){a.addEventListener(b,d,!1)}:b.attachEvent&&(d=function(a,b,d){a[b+d]=d.handleEvent?function(){var b=e(a);d.handleEvent.call(d,b)}:function(){var b=e(a);d.call(a,b)};a.attachEvent("on"+b,a[b+d])});var g=function(){};b.removeEventListener?g=function(a,b,d){a.removeEventListener(b,d,!1)}:b.detachEvent&&(g=function(a,b,d){a.detachEvent("on"+
b,a[b+d]);try{delete a[b+d]}catch(e){a[b+d]=void 0}});b={bind:d,unbind:g};"function"===typeof define&&define.amd?define("eventie/eventie",b):a.eventie=b})(this);
(function(a,e){"function"===typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(b,d){return e(a,b,d)}):"object"===typeof exports?module.exports=e(a,require("wolfy87-eventemitter"),require("eventie")):a.imagesLoaded=e(a,a.EventEmitter,a.eventie)})(window,function(a,e,b){function d(a,c){for(var b in c)a[b]=c[b];return a}function g(a){var c=[];if("[object Array]"===n.call(a))c=a;else if("number"===typeof a.length)for(var b=0,d=a.length;b<d;b++)c.push(a[b]);else c.push(a);
return c}function c(a,b,f){if(!(this instanceof c))return new c(a,b);"string"===typeof a&&(a=document.querySelectorAll(a));this.elements=g(a);this.options=d({},this.options);"function"===typeof b?f=b:d(this.options,b);if(f)this.on("always",f);this.getImages();h&&(this.jqDeferred=new h.Deferred);var e=this;setTimeout(function(){e.check()})}function l(a){this.img=a}function f(a){this.src=a;p[a]=this}var h=a.jQuery,k=a.console,m="undefined"!==typeof k,n=Object.prototype.toString;c.prototype=new e;c.prototype.options=
{};c.prototype.getImages=function(){this.images=[];for(var a=0,c=this.elements.length;a<c;a++){var b=this.elements[a];"IMG"===b.nodeName&&this.addImage(b);var d=b.nodeType;if(d&&(1===d||9===d||11===d))for(var b=b.querySelectorAll("img"),d=0,f=b.length;d<f;d++)this.addImage(b[d])}};c.prototype.addImage=function(a){a=new l(a);this.images.push(a)};c.prototype.check=function(){function a(f,e){b.options.debug&&m&&k.log("confirm",f,e);b.progress(f);c++;c===d&&b.complete();return!0}var b=this,c=0,d=this.images.length;
this.hasAnyBroken=!1;if(d)for(var f=0;f<d;f++){var e=this.images[f];e.on("confirm",a);e.check()}else this.complete()};c.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a);b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})};c.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){b.emit(a,b);b.emit("always",b);if(b.jqDeferred)b.jqDeferred[b.hasAnyBroken?
"reject":"resolve"](b)})};h&&(h.fn.imagesLoaded=function(a,b){return(new c(this,a,b)).jqDeferred.promise(h(this))});l.prototype=new e;l.prototype.check=function(){var a=p[this.img.src]||new f(this.img.src);if(a.isConfirmed)this.confirm(a.isLoaded,"cached was confirmed");else if(this.img.complete&&void 0!==this.img.naturalWidth)this.confirm(0!==this.img.naturalWidth,"naturalWidth");else{var b=this;a.on("confirm",function(a,c){b.confirm(a.isLoaded,c);return!0});a.check()}};l.prototype.confirm=function(a,
b){this.isLoaded=a;this.emit("confirm",this,b)};var p={};f.prototype=new e;f.prototype.check=function(){if(!this.isChecked){var a=new Image;b.bind(a,"load",this);b.bind(a,"error",this);a.src=this.src;this.isChecked=!0}};f.prototype.handleEvent=function(a){var b="on"+a.type;if(this[b])this[b](a)};f.prototype.onload=function(a){this.confirm(!0,"onload");this.unbindProxyEvents(a)};f.prototype.onerror=function(a){this.confirm(!1,"onerror");this.unbindProxyEvents(a)};f.prototype.confirm=function(a,b){this.isConfirmed=
!0;this.isLoaded=a;this.emit("confirm",this,b)};f.prototype.unbindProxyEvents=function(a){b.unbind(a.target,"load",this);b.unbind(a.target,"error",this)};return c});function supports_html5_storage(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}}
(function(a){a.fn.instagramLite=function(e){if(!this.length)return this;var b=this;b.settings={};b.settings=a.extend({},{userID:null,clientID:null,limit:6,list:!0,urls:!1,localstore:null,error:function(){},success:function(){}},e);var d=a(this);b.settings.clientID&&b.settings.userID?d.each(function(){var e=null;if(b.settings.localstore&&supports_html5_storage())try{var c=JSON.parse(localStorage.getItem(b.settings.localstore.key));c&&(new Date).getTime()-c.time<=b.settings.localstore.timeout&&(e=c.data)}catch(l){}var f=
function(a,c){for(var f=0;f<a.length;f++){var e=a[f];if("image"===e.type){var g='\x3cimg src\x3d"'+e.images.thumbnail.url+'" alt\x3d"Instagram Image" data-filter\x3d"'+e.filter+'" /\x3e';b.settings.urls&&(g='\x3ca href\x3d"'+e.link+'" target\x3d"_blank"\x3e'+g+"\x3c/a\x3e");b.settings.list&&(g="\x3cli\x3e"+g+"\x3c/li\x3e");d.append(g)}}b.settings.success.call(d,c)};e?f(e,!0):a.ajax({type:"GET",url:"https://api.instagram.com/v1/users/"+b.settings.userID+"/media/recent/?client_id\x3d"+b.settings.clientID+
"\x26count\x3d"+b.settings.limit+"\x26callback\x3d?",dataType:"jsonp",cache:!0,success:function(a){200===a.meta.code?(b.settings.localstore&&supports_html5_storage()&&localStorage.setItem(b.settings.localstore.key,JSON.stringify({time:(new Date).getTime(),data:a.data})),f(a.data,!1)):b.settings.error.call(this,a.meta.code,a.meta.error_message)},error:function(){b.settings.error.call(this)}})}):console.log("Both a client ID and username are required to use this plugin.")}})(jQuery);
jQuery(function(){initNav();initTree();initSlideShow();initAccordion();initAboutSections();initNavSearch()});window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,e){window.setTimeout(a,1E3/60)}}();
window.requestTimeout=function(a,e){function b(){(new Date).getTime()-d>=e?a.call():g.value=requestAnimFrame(b)}if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setTimeout(a,e);var d=(new Date).getTime(),g={};g.value=requestAnimFrame(b);return g};
window.clearRequestTimeout=function(a){window.cancelAnimationFrame?window.cancelAnimationFrame(a.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(a.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(a.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(a.value):window.msCancelRequestAnimationFrame?msCancelRequestAnimationFrame(a.value):clearTimeout(a)};
function initTree(){$("ul.dynamic li.node \x3e span").click(function(){var a=$(this).parent();1==$(a).hasClass("open")?($(a).removeClass("open"),$(a).addClass("close")):($(a).removeClass("close"),$(a).addClass("open"))})}function initAboutSections(){var a=$("a.about");a.click(function(a){var b=$(this);b.slideUp(300);b.prev("div").slideDown(300);a.preventDefault()});0==$("div#main.faculty-page ul.news-list li").length&&(a.hide(),a.prev("div").show())}
function initNav(){jQuery(".slide-frame").sameHeight({elements:"ul",flexible:!0,multiLine:!0});var a=$("#nav");a.find("\x3e ul \x3e li \x3e a").hover(function(){var a=$(this),b=a.closest("#nav, #nav2");0==b.find("\x3e ul \x3e li.active").length||a.parent().hasClass("active")||(b.find("\x3e ul \x3e li.active").removeClass("active"),a.parent().addClass("active"),a.closest(".nav-holder").addClass("active"))},function(){});a.find("\x3e ul \x3e li \x3e a").click(function(a){var b=$(this),d=b.closest("#nav, #nav2");
b.parent().find(".slide-holder").size()&&(b.parent().hasClass("active")?(b.parent().removeClass("active"),b.closest(".nav-holder").removeClass("active")):(d.find("\x3e ul \x3e li.active").removeClass("active"),b.parent().addClass("active"),b.closest(".nav-holder").addClass("active")),a.preventDefault())});$(document).click(function(a){$(a.target).closest(".nav-holder").length||($(".nav-holder").removeClass("active"),$("#nav").find("\x3e ul \x3e li.active").removeClass("active"),a.stopPropagation())});
$("ul.nav2 \x3e li \x3e ul").hover(function(){$(this).closest("li").find("\x3e a").addClass("active")},function(){$(this).closest("li").find("\x3e a").removeClass("active")})}function initSlideShow(){$(".gallery-holder, .slider-holder").fadeGallery({slideElements:".slide",pauseOnHover:!0,autoRotation:!0,switchTime:1E4,duration:650,event:"click"});$(".photo-line").tinycarousel({interval:!0})}
jQuery.fn.fadeGallery=function(a){a=jQuery.extend({slideElements:"div.slideset \x3e div",pagerLinks:".control-panel li",btnNext:"a.btn-next",btnPrev:"a.btn-prev",btnPlayPause:"a.play-pause",pausedClass:"paused",playClass:"playing",activeClass:"active",pauseOnHover:!0,autoRotation:!1,autoHeight:!1,switchTime:3E3,duration:650,event:"click"},a);return this.each(function(){function e(){u=r;r<A-1?r++:r=0;d()}function b(){f.length&&f.removeClass(w).eq(r).addClass(w);l.eq(u).removeClass(w);l.eq(r).addClass(w)}
function d(){l.stop(!0,!0);l.eq(u).fadeOut(q);l.eq(r).fadeIn(q);b();g()}function g(){p&&!x&&(y&&clearRequestTimeout(y),y=requestTimeout(e,z+q))}var c=jQuery(this),l=jQuery(a.slideElements,c),f=jQuery(a.pagerLinks,c),h=jQuery(a.btnPrev,c),k=jQuery(a.btnNext,c),m=jQuery(a.btnPlayPause,c),n=a.pauseOnHover,p=a.autoRotation,w=a.activeClass,s=a.pausedClass,t=a.playClass,q=a.duration,z=a.switchTime,v=a.event,x=!1,u=0,r=0,A=l.length,y;A&&(l.hide().eq(r).show(),p?c.removeClass(s).addClass(t):c.removeClass(t).addClass(s),
h.length&&h.bind(v,function(){u=r;0<r?r--:r=A-1;d();return!1}),k.length&&k.bind(v,function(){e();return!1}),f.length&&f.each(function(a){jQuery(this).bind(v,function(){r!=a&&(u=r,r=a,d());return!1})}),m.length&&m.bind(v,function(){c.hasClass(s)?(c.removeClass(s).addClass(t),p=!0,g()):(y&&clearRequestTimeout(y),c.removeClass(t).addClass(s));return!1}),n&&c.hover(function(){x=!0;y&&clearRequestTimeout(y)},function(){x=!1;g()}),b(),g())})};
function initAccordion(){$(".accordion \x3e li \x3e a").click(function(a){var b=$(this);b.parent().hasClass("active")?b.parent().find("ul").slideUp(200,function(){b.parent().removeClass("active")}):b.parent().find("ul").slideDown(200,function(){b.parent().addClass("active")});a.preventDefault()});var a=$(".side-list \x3e .box").find("li.self");1>a.length?$(".side-list \x3e .box").first().addClass("active"):$(a[0]).closest("li.box").addClass("active");$(".side-list \x3e .box \x3e a").click(function(a){$(this).parent().hasClass("active")||
($(this).parents(".side-list").children("li.active").find("ul").slideUp(200,function(){$(this).parent().removeClass("active")}),$(this).parent().find("ul").slideDown(200,function(){$(this).parent().addClass("active")}));a.preventDefault()})}
(function(a){function e(d,e){this.options=a.extend({},b,e);this._defaults=b;this._name="tinycarousel";var c=this,l=d.find(".viewport:first"),f=d.find(".overview:first"),h=0,k=d.find(".next:first"),m=d.find(".prev:first"),n=d.find(".bullet"),p=0,w={},s=0,t=0,q=0,z="x"===this.options.axis,v=z?"Width":"Height",x=z?"left":"top",u=null;this.slidesTotal=this.slideCurrent=0;this.update=function(){f.find(".mirrored").remove();h=f.children();p=l[0]["offset"+v];t=h.first()["outer"+v](!0);c.slidesTotal=h.length;
c.slideCurrent=c.options.start||0;s=Math.ceil(p/t);f.append(h.slice(0,s).clone().addClass("mirrored"));f.css(v.toLowerCase(),t*(c.slidesTotal+s));return c};this.start=function(){c.options.interval&&(clearTimeout(u),u=setTimeout(function(){c.move(++q)},c.options.intervalTime));return c};this.stop=function(){clearTimeout(u);return c};this.move=function(b){q=b;c.slideCurrent=q%c.slidesTotal;0>q&&(c.slideCurrent=q=c.slidesTotal-1,f.css(x,-c.slidesTotal*t));q>c.slidesTotal&&(c.slideCurrent=q=1,f.css(x,
0));w[x]=-q*t;f.animate(w,{queue:!1,duration:c.options.animation?c.options.animationTime:0,always:function(){d.trigger("move",[h[c.slideCurrent],c.slideCurrent])}});c.options.buttons&&!c.options.infinite&&(m.toggleClass("disable",0>=c.slideCurrent),k.toggleClass("disable",c.slideCurrent>=c.slidesTotal-s));c.options.bullets&&(n.removeClass("active"),a(n[c.slideCurrent]).addClass("active"));c.start();return c};c.update();c.move(c.slideCurrent);(function(){c.options.buttons&&(m.click(function(){c.move(--q);
return!1}),k.click(function(){c.move(++q);return!1}));a(window).resize(c.update);if(c.options.bullets)d.on("click",".bullet",function(){c.move(q=+a(this).attr("data-slide"));return!1})})();return c}var b={start:0,axis:"x",buttons:!1,bullets:!1,interval:!1,intervalTime:8E3,animation:!0,animationTime:1E3,infinite:!0};a.fn.tinycarousel=function(b){return this.each(function(){a.data(this,"plugin_tinycarousel")||a.data(this,"plugin_tinycarousel",new e(a(this),b))})}})(jQuery);
(function(a){function e(c,e){var f=a(),h,k=0,m=c.eq(0).offset().top;c.each(function(c){c=a(this);c.offset().top===m?f=f.add(this):(h=b(f),k=Math.max(k,d(f,h,e)),f=c,m=c.offset().top)});f.length&&(h=b(f),k=Math.max(k,d(f,h,e)));e.biggestHeight&&c.css(e.useMinHeight&&g?"minHeight":"height",k)}function b(b){var d=0;b.each(function(){d=Math.max(d,a(this).outerHeight())});return d}function d(b,d,f){var e,k="number"===typeof d?d:d.height();b.removeClass(f.leftEdgeClass).removeClass(f.rightEdgeClass).each(function(b){b=
a(this);var c=0,p="border-box"===b.css("boxSizing");"number"!==typeof d&&b.parents().each(function(){var b=a(this);if(d.is(this))return!1;c+=b.outerHeight()-b.height()});e=k-c;e-=p?0:b.outerHeight()-b.height();0<e&&b.css(f.useMinHeight&&g?"minHeight":"height",e)});b.filter(":first").addClass(f.leftEdgeClass);b.filter(":last").addClass(f.rightEdgeClass);return e}a.fn.sameHeight=function(b){var l=a.extend({skipClass:"same-height-ignore",leftEdgeClass:"same-height-left",rightEdgeClass:"same-height-right",
elements:"\x3e*",flexible:!1,multiLine:!1,useMinHeight:!1,biggestHeight:!1},b);return this.each(function(){function b(){n.css(l.useMinHeight&&g?"minHeight":"height","");l.multiLine?e(n,l):d(n,c,l)}var c=a(this),k,m,n=c.find(l.elements).not("."+l.skipClass);if(n.length){b();var p=function(){m||(m=!0,b(),clearTimeout(k),k=setTimeout(function(){b();setTimeout(function(){m=!1},10)},100))};l.flexible&&a(window).bind("resize orientationchange fontresize",p);a(window).bind("load",p)}})};var g="undefined"!==
typeof document.documentElement.style.maxHeight})(jQuery);function initNavSearch(){$(".search-form .search-directions").click(function(a){$(a.target).closest("div.search-where").find(".search-directions-list").toggle();a.stopPropagation()});$(".search-form .search-directions-list li").click(function(a){var e=$(a.target);e.closest("div.search-directions-list").hide();e.closest("form")[0].action=e.attr("value");e.closest("div.search-where").find("span.value").html(e.html());a.stopPropagation()})}
var ScrollSneak=function(a,e){"undefined"==typeof e&&!0===a&&(a=null,e=!0);a=("string"==typeof a?a:window.location.host).split("_").join("");var b;this.scroll=function(){if(0==window.name.search("^"+a+"_(\\d+)_(\\d+)_")){var b=window.name.split("_");window.scrollTo(b[1],b[2]);window.name=b.slice(3).join("_")}};e||this.scroll();this.sneak=function(){"undefined"==typeof b&&(b=window.name);var d=0,e=0;"number"==typeof window.pageYOffset?(d=window.pageYOffset,e=window.pageXOffset):document.body&&(document.body.scrollLeft||
document.body.scrollTop)?(d=document.body.scrollTop,e=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(d=document.documentElement.scrollTop,e=document.documentElement.scrollLeft);if(d||e)window.name=a+"_"+e+"_"+d+"_"+b;return!0}};$(function(){$("input:checkbox").size()&&$("input:checkbox").checkbox();$("input:radio").size()&&$("input:radio").radio()});
$.fn.checkbox=function(a){var e=$.fn.checkbox.method;if("string"==typeof a&&a in $.fn.checkbox.method){var b=$(this);e[a](b);return b}"method"in $.fn.checkbox||($.fn.checkbox.method={destroy:function(a){if(a.data("customized"))a.off("change.customForms"),a.each(function(){$(this).data("customCheckbox").off("click.customForms").remove()}),a.removeData();else throw Error("объект не проинициализирован");},check:function(a){a.trigger("change.customForms",["check"])},uncheck:function(a){a.trigger("change.customForms",
["uncheck"])},toggle:function(a){var b=this;a.each(function(){$(this).is(":checked")?b.uncheck($(this)):b.check($(this))})}},e=$.fn.checkbox.method);var d=[];$(this).each(function(){$(this).data("customized")||d.push(this)});if(!$(this).size())throw Error("селектор "+$(this).selector+" возвратил пустой набор элементов");if(d.length){a=$.extend({checkboxClass:"checkboxAreaChecked",labelClass:"active",customCheckboxClass:"checkboxArea"},a);var g=$('\x3cdiv class\x3d"'+a.customCheckboxClass+'"\x3e\x3c/div\x3e'),
d=$(d);d.data("customized",!0);return d.each(function(){function b(){f.get(0).checked=!0;h.addClass(k);f.data("label")&&f.data("label").addClass(m)}function d(){f.get(0).checked=!1;h.removeClass(k);f.data("label")&&f.data("label").removeClass(m)}var f=$(this),h=g.clone(),k=a.checkboxClass,m=a.labelClass;f.data("customCheckbox",h);h.insertAfter(f);f.closest("label").size()?f.data("label",f.closest("label")):f.attr("id")&&f.data("label",$("label[for\x3d"+f.attr("id")+"]"));f.on("change.customForms",
function(a,e){"check"==e?b():"uncheck"==e?d():f.is(":checked")?b():d()}).trigger("change.customForms");h.on("click.customForms",function(a){h.hasClass(k)?e.uncheck(f):e.check(f);a.preventDefault()})})}throw Error("чекбокс/ы уже проинициализирован/ы");};
$.fn.radio=function(a){var e=$.fn.radio.method;if("string"==typeof a&&a in $.fn.radio.method){var b=$(this);e[a](b);return b}"method"in $.fn.radio||($.fn.radio.method={destroy:function(a){var b=[];a.each(function(){$(this).data("customized")&&b.push(this)});if(b.length)a=$(b),a.off("change.customForms"),a.each(function(){$(this).data("customRadio").off("click.customForms").remove()}),a.removeData();else throw Error("объект не проинициализирован");},check:function(a){a.trigger("change",["check"])}},
e=$.fn.radio.method);"group"in $.fn.radio||($.fn.radio.group={});if(!$(this).size())throw Error("селектор "+$(this).selector+" возвратил пустой набор элементов");var d=[];$(this).each(function(){$(this).data("customized")||d.push(this)});if(d.length){a=$.extend({radioClass:"radioAreaChecked",labelClass:"active",customRadioClass:"radioArea"},a);var g=$('\x3cdiv class\x3d"'+a.customRadioClass+'"\x3e\x3c/div\x3e'),c=$.fn.radio.group,d=$(d);d.data("customized",!0);d.each(function(){!$(this).attr("name")||
$(this).attr("name")in c||(c[$(this).attr("name")]=d.filter("input:radio[name\x3d'"+$(this).attr("name")+"']"))});return d.each(function(){function b(a){a.is("input:radio")?a.get(0).checked=!0:a.addClass(n)}function d(a){a.is("input:radio")?a.get(0).checked=!1:a.removeClass(n)}var h=$(this),k=g.clone(),m=h.attr("name")in c?c[h.attr("name")]:0,n=a.radioClass,p=a.labelClass;h.data("customRadio",k);k.insertAfter(h);h.closest("label").size()?h.data("label",h.closest("label")):h.attr("id")&&h.data("label",
$("label[for\x3d"+h.attr("id")+"]"));h.on("change.customForms",function(a,c){if(h.is(":checked")||"check"==c)m&&(d(m.not(h).next()),m.data("label").size()&&m.each(function(){$(this).data("label")&&$(this).data("label").removeClass("active")})),b(k),"check"==c&&b(h),h.data("label")&&h.data("label").addClass(p)}).trigger("change.customForms");k.on("click.customForms",function(a){k.hasClass(n)||e.check(h);a.preventDefault()})})}throw Error("радиокнопка/и уже проинициализирована/ы");};
function initSearch(a){function e(){d.results.find("li").size()>=(d.start||0)+d.pageSize&&(d.fetchMore.finish(),d.fetchMore.show())}function b(a){a&&d.results.html(null);d.start=a?0:(d.start||0)+d.pageSize;a=d.form.serializeArray();a.push({name:"spc.action",value:"search"});a.push({name:"spc.start",value:d.start});a.push({name:"spc.limit",value:d.pageSize});$.post(d.form[0].action,a).done(function(a){d.results.append(a);d.results.find("li:hidden").slideDown();e()});d.fetchMore.slideUp(500)}var d=
{form:$("form#spc-search-form"),results:$("ul#spc-search-results"),fetchMore:$("a#spc-fetch-more"),start:0,pageSize:a||1};d.results.find("li").show();d.form.submit(function(){b(!0);return!1});d.fetchMore.click(function(){b(!1);return!1});d.fetchMore.hide();e()}
function initMainNews(a){var e=[{subscribed:!0,holder:$("div.news-holder"),results:$("ul.news-list"),type:"a",subType:a},{subscribed:!0,holder:$("div.announcement-holder"),results:$("ul.announcement-list"),type:"b"},{subscribed:!0,holder:$("div.faculty-holder"),results:$("ul.faculty-list"),type:"c"}],b=0;for(a=0;a<e.length;++a)e[a].dh=e[a].holder.height()-e[a].results.height(),b<e[a].dh&&(b=e[a].dh);for(a=0;a<e.length;++a)e[a].oh=e[a].dh-b;var d=b,g=Math.max(window.innerHeight,350),c=$("div#news"),
l=$("a#mpc-fetch-more"),f=0,h=function(a){if(0==f){for(var b=!1,g=0;g<e.length;++g){var h=e[g],b=b||h.subscribed,k=!1,m=0;h.results.find("li").each(function(b,c){c=$(c);m+=c.outerHeight();k||m>a-h.dh?(k=!0,c.hide()):c.show()});h.holder.height()>d&&(d=h.holder.height())}c.height(d);b&&(l.finish(),l.show())}},k=function(a,b){var c=0;a.results.find("li").each(function(a,b){c+=$(b).outerHeight()});return c<b-a.dh},m=function(a,b){var c={"mpc.action":"fetchMore","mpc.fetch.type":a.type},d=c["mpc."+a.type+
".skip"]=a.results.find("li").size();a.subType&&(c["mpc."+a.type+".subType"]=a.subType);$.post(l[0].href,c,function(c){$(c).find("li").hide();a.results.append(c);a.results.find("li").size()==d&&(a.subscribed=!1);k(a,b)&&a.subscribed&&(++f,m(a,b))}).fail(function(){a.subscribed=!1}).always(function(){--f;h(b)})},n=function(){l.slideUp(500);for(var a=d+g-b,c=0;c<e.length;++c){++f;var n=e[c];k(n,a)&&n.subscribed?m(n,a):--f}h(a+b)};l.click(function(){n();return!1});l.hide();n()}
function initFetchMore(a,e,b,d,g){$(a).hide();$(b).find("li").show();$(a).click(function(){var c={};c[g+".action"]="fetchMore";c[g+".skip"]=$(b).find("li").size();c[g+".limit"]=d;$.post(e,c,function(c){$(a).hide();var e=$(b).find("li").size();$(b).append(c);$(b).find("li").size()-e>=d&&$(a).show();$(b).find("li:hidden").slideDown()});return!1});$(b).find("li").size()>=d&&$(a).show()}
function initNewsMain(a){var e=$("div#news-container"),b=$("a#news-fetch-more");e.imagesLoaded(function(){e.masonry({itemSelector:".news-item"})});b.click(function(){var d=e.find(".news-item").size();b.hide();$.post(null,{"mnc.action":"fetchMoreNews","mnc.news.skip":d,"mnc.news.limit":a},function(g){g=$.parseHTML(g);e.append(g);e.masonry("appended",g);e.find(".news-item").size()-d>=a&&b.fadeIn(500)});return!1});b.hide();e.find(".news-item").size()>=a&&b.show()}
function initRemember(){$(".event-list .remember").click(function(a){$(".remember-form").fadeOut(200);var e=$(this).closest("li").find(".remember-form"),b=e.find("input[name\x3dcontact]");b.val("");b.focus();e.fadeIn(200);a.preventDefault()});$(".remember-form .close").click(function(a){$(".remember-form").fadeOut(200);a.preventDefault()});$(".remember-form").submit(function(a){a.preventDefault();var e=$(a.target);if(""!=$.trim(e.find("input[name\x3dcontact]").val())){var b=e.serializeArray();b.push({name:"action",
value:"remember"});$.post(a.target.action,b,function(a){a.success?(e.find("input[type\x3dtext]").val(""),e.parent().find(".remember").hide(),e.fadeOut(500)):alert(a.message||"Ошибка сохранения напоминания")}).fail(function(){})}})}function initScroll(a,e){var b=new ScrollSneak(e);$(a).click(function(){return b.sneak()})}
function initSiteMap(a){var e=function(b,d){$(b).find("li.node \x3e span").click(function(){var b=$(this).parent(),c=b.find("\x3e ul");""==c.html()&&(c.html("\x26nbsp;"),$.post(a,{parent:b.attr("value")},function(a){c.html(a);e(c,d+1)}));0<d&&(1==b.hasClass("open")?(b.removeClass("open"),b.addClass("close")):(b.removeClass("close"),b.addClass("open")))})};e("#sitemap",0)};