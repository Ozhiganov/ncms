<?xml version="1.0" encoding="UTF-8"?>

<!--
   CREATE TABLE ASMS
(
    ID BIGINT PRIMARY KEY NOT NULL GENERATED ALWAYS AS IDENTITY(START WITH 1 INCREMENT BY 1),
    ASM_CORE_ID BIGINT,
    NAME VARCHAR(127) NOT NULL,
    HNAME VARCHAR(256),
    MDATE TIMESTAMP,
    MUSER VARCHAR(64),
    OWNER VARCHAR(64),
    PUBLISHED SMALLINT DEFAULT 0,
    TEMPLATE SMALLINT DEFAULT 0,
    CONTROLLER VARCHAR(127),
    TYPE VARCHAR(64) DEFAULT '' NOT NULL,
    OPTIONS VARCHAR(512),
    DESCRIPTION VARCHAR(512),
    NAV_PARENT_ID BIGINT,
    NAV_CACHED_PATH VARCHAR(255),
    RECURSIVE_ACL_ID BIGINT,
    LOCAL_ACL_ID BIGINT,
    TEMPLATE_MODE VARCHAR(32),
    NAV_ALIAS VARCHAR(255),
    CDATE TIMESTAMP,
    ORDINAL BIGINT NOT NULL,
    EDATE TIMESTAMP,
    NAV_ALIAS2 VARCHAR(255),
    QA_CHECK_DATE TIMESTAMP,
    HNAME_LOWER VARCHAR(256),
    LANG CHAR(2),
    CONSTRAINT FK_ASMS_NAVPARENT FOREIGN KEY (NAV_PARENT_ID) REFERENCES ASMS (ID) ON DELETE CASCADE,
    CONSTRAINT FK_ASMS_ASMCORES FOREIGN KEY (ASM_CORE_ID) REFERENCES ASM_CORES (ID) ON DELETE SET NULL
);
COMMENT ON COLUMN ASMS.HNAME IS 'Human name for page assemblies';
COMMENT ON COLUMN ASMS.MDATE IS 'Assembly modification date';
COMMENT ON COLUMN ASMS.MUSER IS 'Username which modified this assembly';
COMMENT ON COLUMN ASMS.OWNER IS 'Username of page assembly owner';
COMMENT ON COLUMN ASMS.PUBLISHED IS 'Published boolean flag for page assemblies';
COMMENT ON COLUMN ASMS.TEMPLATE IS 'Use this page assembly as template for other pages';
COMMENT ON COLUMN ASMS.CONTROLLER IS 'Classname of assembly controller';
COMMENT ON COLUMN ASMS.NAV_PARENT_ID IS 'Navigation parent ref for assemblies of `page` type';
COMMENT ON COLUMN ASMS.NAV_CACHED_PATH IS 'Cached path of IDs joined with / eg.: /123/12/334/';
COMMENT ON COLUMN ASMS.RECURSIVE_ACL_ID IS 'ID of recursive Access list (ASM_ACL_ENTITY.ACL_ID)';
COMMENT ON COLUMN ASMS.LOCAL_ACL_ID IS 'ID of local Access list (ASM_ACL_ENTITY.ACL_ID)';
COMMENT ON COLUMN ASMS.TEMPLATE_MODE IS 'Comma separated list of page types this template applicable to';
COMMENT ON COLUMN ASMS.EDATE IS 'Date of user defined event associated with this assembly page';
-->

<!--
INSERT INTO SML.ASMS (ASM_CORE_ID, NAME, HNAME, MDATE, MUSER, OWNER, PUBLISHED, TEMPLATE, CONTROLLER, TYPE, OPTIONS, DESCRIPTION, NAV_PARENT_ID, NAV_CACHED_PATH, RECURSIVE_ACL_ID, LOCAL_ACL_ID, TEMPLATE_MODE, NAV_ALIAS, CDATE, ORDINAL, EDATE, NAV_ALIAS2, QA_CHECK_DATE, HNAME_LOWER, LANG)
VALUES (21, '599833adcaa24f454654c44e507e4bed', 'Форма регистрации', '2016-07-04 01:18:31.061000', 'admin', 'admin', 1, 0, null, 'page', null, 'Форма регистрации VK', 101, '/1/101/', null, 1, 'none', 'vk/registration', '2016-07-03 15:15:09.909153', 164, null, null, null, 'форма регистрации', 'ru');
-->
<assemblies>
    <asm>
        <name>599833adcaa24f454654c44e507e4bed</name>
    </asm>


</assemblies>