.. _mmgr:

Управление файлами в nCMS (медиа репозиторий)
=============================================


.. figure:: img/mmgr_img1.png

    Общий вид интерфейса управления медиа файлами nCMS

Слева пользователь может выбрать текущий каталог в медиарепозитории.
В центре список файлов в выбранном каталоге и его подкаталогах (в зависимости от
текущих опций просмотра). Справа - информация о файле, основные свойства файла
и интерфейс редактирования для текстовых файлов или панель просмотра файла, как
изображения.

Обозначения для каталогов медиарепозитория
------------------------------------------

.. image:: img/mmgr_img2.png
    :align: left

Каталог является *системным* и может быть изменен пользователем обладающим
административными правами.

.. image:: img/mmgr_img3.png
    :align: left

Каталог является *пользовательским* и может быть изменен владельцем или
пользователем обладающим административными правами.



Доступ к файлам медиарепозитория
--------------------------------

* Все файлы, которые находятся в каталогах: `/page` и `/site` медиарепозитория nCMS (опция конфигурации :ref:`asm/site-files-root <conf>`)
  доступны внешним пользователям по HTTP протоколу, если в правилах shiro конфигурации сервера nCMS (`shiro.ini`) не указаны
  дополнительные ограничения.
* Зарегистрированный в nCMS пользователь может изменить содержимое файл или удалить файла, когда выполняется
  как минимум одно из следующих условий:

  * Пользователь является владельцем файла (пользователь создал этот файл)
  * Пользователь обладает правами администратора (роль `admin`)

  Удалить файл можно только тогда, когда на этот файл нет
  ссылок со страниц сайтов в nCMS


Операции над файлами и опции поиска и отображения
-------------------------------------------------

TODO

Горячие клавиши (hot keys)
--------------------------

TODO






